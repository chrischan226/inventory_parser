{"version":3,"sources":["FileInput.js","Search.js","Found.js","App.js","serviceWorker.js","index.js"],"names":["FileInput","props","className","title","type","id","accept","onChange","fileHandler","name","Search","onClick","filterRows","Found","foundRows","map","row","i","key","XLSX","require","App","state","fileName","newCol","data","bomData","inventoryData","missing","search","bind","changeHandler","target","file","files","value","partList","FR","FileReader","onload","Uint8Array","result","workbook","read","firstSheet","Sheets","SheetNames","utils","sheet_to_json","header","mfgPN","headers","count","forEach","part","index","undefined","indexOf","split","partName","length","toLocaleLowerCase","push","slice","setState","replace","readAsArrayBuffer","worksheet","this","found","notFound","newData","Object","keys","json_to_sheet","skipHeader","book_new","book_append_sheet","writeFile","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.551e04ee.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FileInput = (props) => {\r\n    return(\r\n        <div className = 'inputContainer'>\r\n            <h3>{props.title}</h3>\r\n            <input type=\"file\" id=\"input\" accept=\".xls,.xlsx,.ods\" onChange = {props.fileHandler} name = {props.name}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileInput;","import React from 'react';\r\n\r\nconst Search = (props) => {\r\n    return(\r\n        <div className = 'searchContainer'>\r\n          <div className = \"searchInput\">\r\n            <button className = 'submit' onClick = {props.filterRows}>Compare</button>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\n\r\nconst Found = props => (\r\n    props.foundRows.map((row, i) => {\r\n        return (\r\n            <div className = 'foundRow' key = {i}>\r\n                <div className = 'itemNum'>{`Item #: ${row[0]}`}</div>\r\n                <div className = 'quantity'>{`Quantity: ${row[1]}`}</div>\r\n            </div>  \r\n        )\r\n    })\r\n)\r\n\r\nexport default Found;","import React from 'react';\nimport FileInput from './FileInput';\nimport Search from './Search';\nimport Found from './Found';\nimport './App.css';\n\nconst XLSX = require('xlsx');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileName: null,\n      newCol: null,\n      data: null,\n      bomData: null,\n      inventoryData: null,\n      foundRows: null,\n      missing: null,\n      search: '',\n    }\n\n    this.fileHandler = this.fileHandler.bind(this);\n    this.filterRows = this.filterRows.bind(this);\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n\n  fileHandler({target}) {\n    let file = target.files[0],\n        { name } = target,\n        fileName = target.value,\n        partList = {};\n    if (!file) return;\n\n    var FR = new FileReader();\n    FR.onload = ({target}) => {\n     var data = new Uint8Array(target.result),\n         workbook = XLSX.read(data, {type: 'array'}),\n         firstSheet = workbook.Sheets[workbook.SheetNames[0]],\n         result = XLSX.utils.sheet_to_json(firstSheet, { header: 1 });\n\n      switch(name) {\n        case 'bomData':\n          let mfgPN,\n              headers,\n              count = 0;\n          result.forEach((part, index) => {\n            if(part[mfgPN] !== undefined && typeof part[mfgPN] === 'string' && part[mfgPN].indexOf('\\r\\n') !== -1 && part[mfgPN] !== 'N/A' && part[mfgPN] !== 'MFG_PN') {\n              let parts = part[mfgPN].split('\\r\\n');\n              parts.forEach(partName => {\n                partList[partName] = index;\n              })\n            } else if(part[mfgPN] !== undefined && typeof part[mfgPN] === 'string' && part[mfgPN].indexOf('\\r\\n') === -1 && part[mfgPN] !== 'N/A' && part[mfgPN] !== 'MFG_PN') {\n              partList[part[mfgPN]] = index;\n            } else if(part[0] === 'Item #') {\n                if(headers === undefined) headers = count;\n                for(let i = 0; i < part.length; i++) {\n                  if(typeof part[i] === 'string') {\n                    if(part[i].toLocaleLowerCase() === 'mfg_pn') mfgPN = i; \n                  }\n                }\n            }\n            count++;\n          });\n          result[headers].push('Oracle P/N');\n          result[headers].push('B/R after Reserve');\n          fileName = fileName.slice(fileName.indexOf('fakepath') + 9);\n          fileName = fileName.slice(0,fileName.indexOf('.xlsx')) + ' - Comparison' + fileName.slice(fileName.indexOf('.xlsx'));\n          this.setState({\n            fileName,\n            newCol: result[headers].length,\n            bomData: partList,\n            data: result,\n            foundRows: null,\n          })\n          break;\n        case 'inventoryData':\n          result.forEach(part => {\n            if(part[0] !== undefined && part[0].indexOf('Item') === -1 && part[2] !== undefined && part[2].length > 0) {\n              let parts = part[2].replace(/\\r\\n/g, '|').replace(/,/g, '|').replace(/ /g,'').split('|');\n              parts.forEach(partName => {\n                if(partList[partName] === undefined) partList[partName] = [part[0], part[part.length - 1]];\n                else {\n                  partList[partName][0] += `\\r\\n${part[0]}`\n                  partList[partName][1] += `\\r\\n${part[part.length - 1]}`\n                }\n              })\n            }\n          });\n          result = partList;\n          this.setState({\n            [name]: result,\n            foundRows: null,\n          })\n          break;\n        default:\n          break;\n      }\n   };\n   FR.readAsArrayBuffer(file);\n  }\n\n  filterRows() {\n    let { bomData, inventoryData, data, fileName, newCol } = this.state,\n        found = [],\n        notFound = {},\n        newData = data.slice(),\n        worksheet,\n        workbook;\n\n    Object.keys(bomData).forEach(partName => {\n      if(inventoryData[partName] !== undefined) {\n        if(newData[bomData[partName]][newCol - 2] !== undefined) newData[bomData[partName]][newCol - 2] += `\\r\\n${inventoryData[partName][0]}`;\n        else newData[bomData[partName]][newCol - 2] = inventoryData[partName][0];\n\n        if(newData[bomData[partName]][newCol - 1] !== undefined) newData[bomData[partName]][newCol - 1] += `\\r\\n${inventoryData[partName][1]}`;\n        else newData[bomData[partName]][newCol - 1] = inventoryData[partName][1];\n\n        found.push(inventoryData[partName])\n      }\n      else notFound[partName] = true;\n    })\n\n    this.setState({\n      foundRows : found,\n      missing: notFound,\n    }, () => {\n      worksheet = XLSX.utils.json_to_sheet(newData, {header:['0','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18'], skipHeader: true});\n      workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'parts');\n      XLSX.writeFile(workbook, fileName);\n    })\n  }\n\n  changeHandler({target}) {\n    let { name } = target;\n    this.setState({\n      [name] : target.value,\n    })\n  }\n\n  render() {\n    let { bomData, inventoryData, foundRows } = this.state;\n    return (\n      <div className=\"App\">\n        <div className = 'titleContainer'>\n          <p className = 'title'>Search Inventory</p>\n        </div>\n        <div className = 'fileInput'>\n          <FileInput title ='BOM' fileHandler = {this.fileHandler} name = 'bomData' />\n          <FileInput title ='Inventory' fileHandler = {this.fileHandler} name = 'inventoryData' />\n        </div>\n        {bomData !== null  && inventoryData !== null ? \n          <Search changeHandler = {this.changeHandler} filterRows = {this.filterRows} />\n        : \n          undefined\n        }\n        {foundRows !== null ? \n          <div className = 'foundContainer'>\n            <div className = 'foundHeader'>Found</div>\n            <Found foundRows = {foundRows} />\n          </div>\n        : \n          undefined\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}